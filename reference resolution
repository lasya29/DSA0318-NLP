import spacy

# Load the spaCy transformer-based model that supports coreference resolution
nlp = spacy.load('en_core_web_trf')

def reference_resolution(text):
    # Process the text using spaCy
    doc = nlp(text)
    
    # Create a dictionary to hold references
    references = {}
    
    print("Reference Resolution:")
    
    for entity in doc.ents:
        references[entity.start] = entity.text

    for token in doc:
        if token._.in_coref:
            print(f"'{token.text}' refers to '{token._.coref_clusters[0].main.text}'")
        elif token.i in references:
            print(f"Entity: {references[token.i]}")

# Example text
text = "John went to the store. He bought some milk. Mary said she would meet him later."

reference_resolution(text)
